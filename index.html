<!DOCTYPE html>
<html>
  <head>
    <title>Geolocation</title>
    <meta name="viewport" content="initial-scale=1.0, user-scalable=no">
    <meta charset="utf-8">
    <link href="map.css" rel="stylesheet" type="text/css">
    <style>
      /* Always set the map height explicitly to define the size of the div
       * element that contains the map. */
      #map {
        height: 100%;
      }
      /* Optional: Makes the page fill the window. */
      html, body {
        height: 100%;
        margin: 0;
        padding: 0;
      }
    </style>
  </head>
  <body>
    <div id="map"></div>
    <script>
      
      var map, infoWindow,    academyIW;
      function initMap() {
        //String for infoWindow
        var academyString = '<div id="content">'+
            '<div id="siteNotice">'+
            '</div>'+
            '<h1> Old Town Cemetery and site of town&#39;s East Academy</h1>'+
            '<div id="bodyContent">'+
                '<img src="img/pt4.jpg" alt="Old Town Cemetery and site of town&#39;s East Academy" height="100px" width="125px">' +
            '<p>In her book <em>Early Days and Methodism in Stephens City, Virginia</em>, Inez Virginia Steele wrote in 1906 the following about the Old Town Cemetery and site of town&#39;s East Academy ' +
            '</p>'+ 
            '<q>The first burying ground — ‘The Old Graveyard’ — on Mulberry street, was, without doubt, given by Peter Stephens and his son Lewis, but there was no deed made for it until 1799, when Lewis Stephens, Jr., deeded to thirteen trustees the ‘two half-acre lots 76 and 77, commonly called the graveyard and schoolhouse lots.’</q>  <a href="#">Learn More</a>'+
            '</div>'+
            '</div>'+
            '</div>';


        //Historical Site Num 1
        var academy = {lat: 39.081549, lng: -78.218520}
        academyIW = new google.maps.InfoWindow({
          content: academyString,
          maxWidth: 225

        });

        map = new google.maps.Map(document.getElementById('map'), {
          center: {lat: 39.085057, lng: -78.218221},
          zoom: 15
        });
        var iconBase = 'https://maps.google.com/mapfiles/kml/shapes/';

        var marker = new google.maps.Marker({
            position: academy,
            map: map, 
            animation: google.maps.Animation.DROP,
            icon: iconBase + 'library_maps.png'

        });
        marker.addListener('click', function() {
            academyIW.open(map, marker);
        });


        infoWindow = new google.maps.InfoWindow;
} /*
        // Try HTML5 geolocation.
        if (navigator.geolocation) {
          navigator.geolocation.getCurrentPosition(function(position) {
            var pos = {
              lat: position.coords.latitude,
              lng: position.coords.longitude
            };

            infoWindow.setPosition(pos);
            infoWindow.setContent('You are here');
            infoWindow.open(map);
            map.setCenter(pos);
          }, function() {
            handleLocationError(true, infoWindow, map.getCenter());
          });
        } else {
          // Browser doesn't support Geolocation
          handleLocationError(false, infoWindow, map.getCenter());
        }
      

      function handleLocationError(browserHasGeolocation, infoWindow, pos) {
        infoWindow.setPosition(pos);
        infoWindow.setContent(browserHasGeolocation ?
                              'Error: The Geolocation service failed. Does your device have location services enabled?' :
          s                    'Error: Your browser doesn\'t support geolocation.');
        infoWindow.open(map);
      }*/
    </script>
    <script async defer
    src="https://maps.googleapis.com/maps/api/js?key=AIzaSyDAhYt-JJuTQOuDhvFBxJUoiDdgz1vEuNg&callback=initMap">
    </script>
  </body>
</html>